<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Treasure Chest</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style type="text/css">
      body {
        margin: 0 auto;
        max-width: 40em;
        width: 88%;
      }
    </style>
  </head>
  <body>

    <h1>Treasure Chest</h1>

    <p>All of the magic here happens in the console.</p>


    <script>
      class TreasureChest {

        #bronze;
        #silver;
        #gold;
        #loot;

        // Start total at zero
        constructor(options = {}) {
          let { bronze, silver, gold, loot } = Object.assign({
            bronze: 0,
            silver: 0,
            gold: 0,
            loot: `üè¥‚Äç‚ò†Ô∏è Arrrgh Matey! You have {{bronze}} bronze, {{silver}} silver, and {{gold}} gold coins. üè¥‚Äç‚ò†Ô∏è`
          }, options);

          // Set instance properties
          this.#bronze = bronze;
          this.#silver = silver;
          this.#gold = gold;
          this.#loot = loot;

        }
        
        addBronze(num) {
          this.#bronze += num;
          return this;
        }

        addSilver(num) {
          this.#silver += num;
          return this;
        }

        addGold(num) {
          this.#gold += num;
          return this;
        }

        getLoot () {
          return this.#loot.replace('{{bronze}}', this.#bronze).replace('{{silver}}', this.#silver).replace('{{gold}}', this.#gold); 
        }

        getBronze() {
          return this.#bronze;
        }

        getSilver() {
          return this.#silver;
        }

        getGold() {
          return this.#gold;
        }

        static getRandomLoot () {
          // Get random number between 1 - 50
          let amount = Math.floor((Math.random() * 50) + 1);

          // Get random type of loot
          const lootArray = ['bronze', 'silver', 'gold'];
          let typeOfLoot = lootArray[Math.floor(Math.random() * lootArray.length)];

          return {
            amount: amount,
            typeOfLoot: typeOfLoot
          };

        }

      }

      // Create an instance
      let captain = new TreasureChest();

      // Try to break the library
      // captain.gold = 123;
      // captain.#gold = 456;

      // Try to access private methods
      // captain.shuffle([1, 2, 3]);
      // captain.#shuffle([4, 5, 6]);

      // captain.addGold(15).addBronze(5);

      let loot = captain.getLoot();
      console.log(loot);
    </script>
  </body>
</html>
